# 1 Массивы и матрицы Numpy

## 1.1 Упражнения
Создать массивы из списков list

а) массив из 100 чётных чисел, начиная от 2

б) вывести на экран 10 последних элементов этого массива

в) послучить массив этих чисел (массива а) в квадрате

г) получить массив чисел из исходного (а), которые делятся на 3

## 1.2 Страны 
Countries.csv

а) считать в массивы годы и населения

б) пересчитать населения в миллионы человек (в исходных данных - просто в людях)
новый массив - ```population_millions (float64)```

в) превратить массив населений (миллионов или человек) и превратить в массив 142x12 (или 12x142)

```python
a.reshape(-1, 12)
a.reshape(12, -1)
```

г) Из получившегося массива населений получить населения Алжира (третий в таблице) за все годы (массив из 12 элементов)

д) Населения всех стран в 2002 году (предпоследний год) - массив из 142 элементов

е) Население мира в 2002 (одно число) - np.sum()

ж*) прирост населений Алжира - 11 чисел



## 1.3 Автомобили

Renault.csv
а) Разобрать csv

``` python
data = csv.reader(f, delimiter = ';')
```

б) Собрать цены, пробеги и названия моделей в массивы - колонка цена, массив целых чисел
нужно удалисть пробелы и символ рубля прежде, чем превратить в число

``` python
s.replace('₽', '')
# ...
```

в) Найти самую большую и самую маленькую цену всех рено
(2 числа, вывести на экран)

```
a.max()
a.min()
```

г) Средний пробег, но  только такой марки: Renault Sandero I Stepway

```
np.mean()
```

д) узнать пробег и марку самой дешёвой машины

 * ```a.argmax()``` - индекс элемента с максимальным значением

 * ```a.argmin()``` - аналогично

## 1.4 Центробанк
 
ЦБ РФ предоставляет данные о курсах валют в виде:

* курсов всех валют в указанный день

* курсов одной валюты в указанном диапазоне дат

Значения можно получить и разобрать самостоятельно с помощью встроенной библииотеки xml ([xml.etree.ElementTree](https://docs.python.org/3/library/xml.etree.elementtree.html)), либо воспользоваться файлом cbr.py (в папке с материалами к курсу). В обоих случаях нужно установить модуль [requests](https://docs.python-requests.org/en/latest/):

```
py -3 -m pip install requests
```

а) получить курсы доллара с 1 июля по сегодняшнее число включительно. Если используете готовый модуль, то загрузка быдет выглядеть так:

``` python
d, p = get_prices('01.07.2021', '19.09.2021', 'USD')
```

получите 2 массива - даты и цены в рублях

б) узнать средний курс

в) узнать, когда курс был дороже всего за период (```argmax```) и сколько он стоил в этот день

г) сохранить полученные массивы в файл с помощью функции ```save()/savez()/savez_compressed()```

д) добавить виджеты для выбора валюты (Dropdown, можно запросить у ЦБ список кодов валют и разобрать) и диапазона дат (```DatePicker```)

## 1.5 Метеостанции
ghcnd-stations.txt

а) Разобрать файл, достать колонки с координатами (2,3,4 колонки) - в виде матрицы float 3 колонки на много строк
и колонку с названиями нас. пунктов - str

2 массива:

``` python
coords = np.empty((n, 3), np.float32) # координаты размером 113000 х 3 float32
coords[:, -1] - массив высот
names = np.empty(n, (str, ...))  # названия - строки какой-то длины
```

Совет: лучше читать по одной строке, т.к. строк много:

``` python
readline()

for line in f:
	# разбор каждой строки
```

б) преобразовать широту и долготу в радианы (без цикла), поможет функция:

```
np.radians()
```

в) найти самую высокую и самую низкую станции и их координаты и названия

есть подвох: есть станции с высотой -999.9, но на самом деле это означает "неизвестно"

г) к пункту в добавить print ссылки вида:

https://maps.google.com/maps?ll=55.755833,37.617222

д) написать ф-ию, которая принимает два кортежа - диапазон широт и диапазон долгот
и печает print'ом самую высокую и низкую точку из этого сектора

## 1.6 Погодные данные

Воспользуемся одним из серверов погодных данных - meteostat.net. С него можно загрузить исторические данные (за прошедшие дни) за выбранный период дат с выбранной метеостанции. Особенности сервиса:

* Это коммерческий сервис, поэтому требуется ключ API. Для этого нужно зарегистрироваться, нам подойдёт бесплатный план.

* Ключ API передаётся не в составе URL запроса, а в заголовке. К счастью, с бсблиотекой ```requests``` это сделать легко:

``` python
resp = requests.get(
	meteo_url,
	params=meteo_params,
	headers={'X-RapidAPI-Key': meteo_api_key}
	)
```

* Ответ приходит в формате JSON. Его очень просто превратить в обычный словарь с помощью [одноимённой стандартной библиотеки](https://docs.python.org/3/library/json.html):

``` python
import json
data = json.loads(json_text)  # передаём строку str с текстом ответа
```

ДАнные можно получить с помощью файла meteostat.py из материалов курса, либо сделать разбор самостоятельно.

а) Получить данные с метеостата за последние 365 дней, или какой-то другой период. На выходе собрать два массива:

 * массив дат в виде строк
 * иматрицу температур - 3 колонки min, max, avg в виде float

б) найти дисперсию средних температур, желательно без циклов

![\Large\sigma=\frac{(x_1-s)^2+(x_2-s)^2+\ldots+(x_n-s)^2}{n-1}](https://latex.codecogs.com/svg.latex?\Large\sigma=\frac{(x_1-s)^2+(x_2-s)^2+\ldots+(x_n-s)^2}{n-1})

(где s - это среднее арифметическое)

в) найти максимальную разницу между минимальной и максимальной температурой за сутки, узнать в какой день это было

г) (по желанию) добавить виджет в сыбором диапазона дат и метеостанции


# Задачи на базовые операции в Pandas

## Атлеты

atlete_events.csv

а) найти самого старого и самого молодого атлетов за всё время, вывести на экран строчки с ними

б) Средний рост спортсменов в 2008 году

в) Средний вес спортсменов в дисциплине Weightlifting
